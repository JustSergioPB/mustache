<div class="wrapper">
  <button
    mustacheButton
    [icon]="'heart'"
    [color]="color"
    [appearance]="appearance"
    [size]="'s'"
    (click)="openDropdown($event)"
  >
    <p
      mustacheEmoji="{{ defaultDiallingCode?.icon }}"
      class="emoji emoji--m"
    ></p>
  </button>
  <div class="dropdown" [ngClass]="{ 'dropdown--visible': isOpen }">
    <div
      class="dropdown__item"
      *ngFor="let diallingCode of diallingCodes; let i = index"
      (click)="onItemClick(i)"
    >
      <p mustacheEmoji="{{ diallingCode.icon }}" class="emoji emoji--m"></p>
      <p class="text--label-regular">{{ diallingCode.country }}</p>
      <p class="text--label-regular">(+{{ diallingCode.prefix }})</p>
    </div>
  </div>
  <mustache-form-field>
    <p class="label text--label-semibold">{{ label }}</p>
    <div class="phone-wrapper">
      <p class="prefix">+{{ defaultDiallingCode?.prefix }}</p>
      <input
        id="phone"
        mustacheInput
        type="tel"
        placeholder="{{ defaultDiallingCode?.placeholder || '--' }}"
        [formControl]="formControl"
      />
    </div>
    <p
      mustacheFormFieldError
      *ngIf="formControl.touched && formControl.invalid"
    >
      {{ getError() }}
    </p>
  </mustache-form-field>
</div>
