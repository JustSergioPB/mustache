<form class="form" [formGroup]="form">
  <mustache-form-field>
    <label mustacheLabel for="email"> Email </label>
    <input
      id="email"
      mustacheInput
      type="email"
      placeholder="mr.mustache@gmail.com"
      formControlName="email"
    />
    <p
      mustacheFormFieldError
      *ngIf="form.controls.email.touched && form.controls.email.invalid"
    >
      {{ getEmailError() }}
    </p>
  </mustache-form-field>
  <mustache-form-field>
    <label mustacheLabel for="password"> Password </label>
    <input
      id="password"
      mustacheInput
      type="{{ showPassword ? 'text' : 'password' }}"
      placeholder="mustache"
      formControlName="password"
    />
    <button mustacheFormFieldIcon (click)="showPassword = !showPassword">
      <img
        class="icon icon--m icon--empty icon--discrete"
        src="assets/icons/{{ showPassword ? 'eye-off' : 'eye' }}.svg"
        alt="'show password'"
      />
    </button>
    <p
      mustacheFormFieldError
      *ngIf="form.controls.password.touched && form.controls.password.invalid"
    >
      {{ getPasswordError() }}
    </p>
  </mustache-form-field>
  <div class="form__options">
    <mustache-checkbox (valueChanged)="onRememberMeClicked()">
      Remember me
    </mustache-checkbox>
    <a
      href="#"
      class="link link--primary-500 text--comment-semibold text--primary-500"
      (click)="onRecoverClicked($event)"
      >Forgot Password?</a
    >
  </div>
  <div class="form__actions">
    <button
      mustacheButton
      [position]="'center'"
      (click)="onLoginSubmited()"
      [disabled]="isLoading"
    >
      Log in
    </button>
    <mustache-spinner
      *ngIf="showSpinner"
      [isLoading]="isLoading"
      [success]="isSuccessful"
    ></mustache-spinner>
  </div>
  <p
    class="form-error text--comment-semibold text--danger-500"
    *ngIf="errorMessage"
  >
    {{ errorMessage }}
  </p>
</form>
<div class="third-parties" *ngIf="thirdPartiesEnabled">
  <div class="third-parties__or">
    <hr class="divider" />
    <p class="text--comment-semibold text--gray-400">OR</p>
    <hr class="divider" />
  </div>
  <div class="third-parties__buttons">
    <ng-content></ng-content>
  </div>
</div>
<span class="redirect text--comment-semibold text--gray-400">
  Don't you have an account?
  <a
    href="#"
    class="link link--primary-500 text--comment-semibold text--primary-500"
    (click)="onSignUpClicked($event)"
  >
    Sign up
  </a>
</span>
